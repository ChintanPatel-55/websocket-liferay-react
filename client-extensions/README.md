# Liferay Client Extensions: Theme CSS & Global CSS

This repository contains two distinct Liferay Client Extensions designed to customize the look and feel of your Liferay DXP instance.

- **Theme CSS Client Extension:** For deep, structural styling overrides that replace the default theme styles.
- **CSS Client Extension:** For additive, lightweight styling changes on top of an existing theme.

---

## 1. Theme CSS Client Extension

### Why use this extension?
Use the Theme CSS extension when you want to override the base theme's styling completely. Unlike a simple CSS file that adds styles on top, this extension replaces the core `clay.css` and `main.css` files of the theme. It is best used for:

- Implementing a comprehensive custom brand design.
- Changing global site variables like color palettes, border radius, and spacing.
- Providing a Frontend Token Definition (in Liferay 7.4+).

### What does it affect?
- **Scope:** It affects the entire page layout where the theme is applied.
- **Impact:** It replaces the styling from the base theme (e.g., "Styled" or "Unstyled"). If you apply this to a page, the original theme's specific styles (buttons, headers, navigation) will be swapped out for the styles defined here.

### How to change the design
1. Navigate to the `src/css/` directory.
2. Open and modify the `_custom.scss` file.
3. Write your custom styles here; this file is automatically compiled into the final CSS during the build process.
4. You can import other SCSS partials or npm modules (like `sassy-inputs`) here.
5. Build the extension to compile your SCSS into the final `main.css` and `clay.css` resources.

### YAML Configuration (`client-extension.yaml`)
This file defines how Liferay recognizes and deploys your theme.

```yaml
id: my-custom-theme-css
name: My Custom Theme CSS
type: themeCSS
# Paths to the compiled CSS files
mainURL: css/main.css
clayURL: css/clay.css
# Optional: RTL (Right-to-Left) language support paths
mainRTLURL: css/main_rtl.css
clayRTLURL: css/clay_rtl.css
```

**Key fields:**

- `type: themeCSS`: Tells Liferay this is a Theme override.
- `mainURL` / `clayURL`: Points to the CSS resources generated by the build.

---

## 2. CSS Client Extension (Global CSS)

### Why use this extension?
Use the CSS (Global CSS) extension when you want to add specific styles to a page without replacing the entire theme. It is additive, meaning it loads after the theme styles. It is best used for:

- Tweaking specific elements (e.g., "Make this specific button red").
- Adding styles for a specific widget or fragment.
- Quick fixes that do not require a full theme rebuild.

### What does it affect?
- **Scope:** It affects only the specific CSS classes or IDs you target.
- **Impact:** It adds to the page's existing styling (including Style Books). It does not remove existing theme styles but overlays your changes on top of them.

### How to change the design
1. Navigate to the `assets/` (or `src/`) directory.
2. Open your CSS file (e.g., `global.css`).
3. Add standard CSS rules.

Example:

```css
.btn-primary {
    background-color: purple;
}
```

There is no complex compilation step required; the file is served as a static resource.

### YAML Configuration (`client-extension.yaml`)
This file registers the CSS file as a resource Liferay can load.

```yaml
id: my-custom-global-css
name: My Custom Global CSS
type: globalCSS
url: global.css
```

**Key fields:**

- `type: globalCSS`: Tells Liferay this is an additive CSS resource.
- `url`: The path to your CSS file relative to the built extension.

---

## Deployment & Usage

### 1. Build & Deploy
Run the standard Liferay Workspace Gradle command to deploy your extensions:

```bash
./gradlew clean deploy
```

This will deploy the extensions to your Liferay `deploy/` folder (or Docker container). Check the console to confirm they started (e.g., `STARTED my-custom-theme-css_1.0.0`).

### 2. Apply to Pages
**For Theme CSS:**
1. Go to **Site Builder > Pages**.
2. Click the gear icon (âš™) next to a page (or the Page Set) and select **Configuration**.
3. Under the **Look and Feel** tab, locate the **Theme CSS Client Extension** section.
4. Click **Add** and select your Theme CSS extension.
5. Save.

**For CSS Extension:**
1. Go to a page and click the **Edit (pencil)** icon.
2. Open the **Page Design Options** menu (brush icon) on the left sidebar.
3. Click the **Configuration (gear)** icon at the top of that sidebar.
4. Under **CSS Client Extensions**, click **Add CSS Client Extensions**.
5. Select your Global CSS extension and click **Add**.
6. Save and publish the page.
